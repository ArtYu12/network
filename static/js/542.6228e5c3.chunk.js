"use strict";(self.webpackChunkproject1=self.webpackChunkproject1||[]).push([[542],{7542:function(t,s,e){e.r(s),e.d(s,{default:function(){return T}});var n=e(5671),r=e(3144),u=e(136),o=e(516),i=e(8683),a={},p="MyPosts_postsBlock__e5nrM",c="MyPosts_posts__7a124",l="Post_item__weWp5",f=e(184),d=function(t){return(0,f.jsxs)("div",{className:l,children:[t.message,(0,f.jsx)("button",{children:"Like"}),"\u041a\u043e\u043b-\u0432\u043e \u043b\u0430\u0439\u043a\u043e\u0432: ",t.likecount]})},h=e(2791),j=e(6139),m=e(704),x=e(7070),v=e(4443),g=(0,x.D)(10),k=(0,m.Z)({form:"ProfileAddPostForm"})((function(t){return(0,f.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,f.jsx)(j.Z,{component:v.Aj,name:"post",placeholder:"\u041f\u043e\u0441\u0442",value:t.newPostText,validate:[x.P,g]}),(0,f.jsx)("br",{}),(0,f.jsx)("button",{children:"Add post"})]})})),S=h.memo((function(t){console.log("render");var s=t.posts.map((function(t){return(0,f.jsx)(d,{message:t.message,likecount:t.likesCount},t.id)}));return(0,f.jsxs)("div",{className:p,children:[(0,f.jsx)("div",{children:"My posts"}),(0,f.jsx)(k,{onSubmit:function(s){t.addPost(s.post)}}),(0,f.jsx)("div",{className:c,children:s})]})})),Z=e(6070),P=e(8687),_=(0,P.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(s){t((0,Z.t2)(s))}}}))(S),b="Profileinfo_img__SaBmI",y="Profileinfo_descBlock__Dr6SS",A=e(9163),C=e(9439),N=function(t){var s=(0,h.useState)(!1),e=(0,C.Z)(s,2),n=e[0],r=e[1],u=(0,h.useState)(t.status),o=(0,C.Z)(u,2),i=o[0],a=o[1];return(0,h.useEffect)((function(){a(t.status)}),[t.status]),(0,f.jsx)("div",{children:n?(0,f.jsx)("input",{onChange:function(t){a(t.currentTarget.value)},onBlur:function(){r(!1),t.updateStatus(i)},autoFocus:!0,value:i}):(0,f.jsx)("span",{onDoubleClick:function(){r(!0)},children:t.status?t.status:"\u0421\u0442\u0430\u0442\u0443\u0441\u0430 \u043d\u0435\u0442"})})},D=function(t){return t.profile?(0,f.jsxs)("div",{children:[(0,f.jsx)("img",{className:b,src:"https://proprikol.ru/wp-content/uploads/2020/08/kartinki-krutyh-mashin-57.jpg",alt:"main"}),(0,f.jsxs)("div",{className:y,children:[(0,f.jsx)("img",{src:t.profile.photos.large,alt:"ava"}),(0,f.jsx)(N,{status:t.status,updateStatus:t.updateStatus})]})]}):(0,f.jsx)(A.Z,{})},w=function(t){return(0,f.jsxs)("section",{className:a.section,children:[(0,f.jsx)("h2",{children:t.h}),(0,f.jsx)(D,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,f.jsx)(_,{})]})},I=e(1548),M=e(7689),B=e(7781);var F=function(t){(0,u.Z)(e,t);var s=(0,o.Z)(e);function e(){return(0,n.Z)(this,e),s.apply(this,arguments)}return(0,r.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.router.params.userId;t||(t=this.props.userId),this.props.getProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,f.jsx)(w,(0,i.Z)((0,i.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),e}(h.Component),T=(0,B.qC)((0,P.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,userId:t.auth.userId,isAuth:t.auth.isAuth}}),{getProfile:Z.Ai,getStatus:Z.lR,updateStatus:Z.Nf}),(function(t){return function(s){var e=(0,M.TH)(),n=(0,M.s0)(),r=(0,M.UO)();return(0,f.jsx)(t,(0,i.Z)((0,i.Z)({},s),{},{router:{location:e,navigate:n,params:r}}))}}),I.D)(F)},1548:function(t,s,e){e.d(s,{D:function(){return d}});var n=e(8683),r=e(5671),u=e(3144),o=e(136),i=e(516),a=e(7689),p=e(2791),c=e(8687),l=e(184),f=function(t){return{isAuth:t.auth.isAuth}},d=function(t){var s=function(s){(0,o.Z)(p,s);var e=(0,i.Z)(p);function p(){return(0,r.Z)(this,p),e.apply(this,arguments)}return(0,u.Z)(p,[{key:"render",value:function(){return this.props.isAuth?(0,l.jsx)(t,(0,n.Z)({},this.props)):(0,l.jsx)(a.Fg,{to:"/login"})}}]),p}(p.Component);return(0,c.$j)(f)(s)}}}]);
//# sourceMappingURL=542.6228e5c3.chunk.js.map